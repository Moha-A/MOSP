{"ast":null,"code":"import _slicedToArray from \"/Users/401821/2_web/1_website/MOSP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/401821/2_web/1_website/MOSP/src/middleware/router/loginLink.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { getLoginData } from \"../Validation\";\nimport Preloader from \"../../componente/layout/Preloader\";\n\nvar LoginLink = function LoginLink(_ref) {\n  var location = _ref.location;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var request = location.search.toLowerCase().replace(/\\?/g, \"\").split(\"&\");\n  var paxId;\n  var embarkationDate;\n  var disembarkationDate;\n  var bookingNumber;\n  request.forEach(function (element) {\n    if (element.includes(\"paxid=\")) {\n      paxId = element.replace(\"paxid=\", \"\");\n    } else if (element.includes(\"disembarkationdate=\")) {\n      disembarkationDate = element.replace(\"disembarkationdate=\", \"\");\n    } else if (element.includes(\"bookingnumber=\")) {\n      bookingNumber = element.replace(\"bookingnumber=\", \"\");\n    } else if (element.includes(\"embarkationdate=\")) {\n      embarkationDate = element.replace(\"embarkationdate=\", \"\");\n    }\n  });\n  useEffect(function () {\n    getLoginData(paxId, embarkationDate, disembarkationDate, bookingNumber).then(function (next) {\n      if (next) {\n        setLoading(true);\n        window.location.href = \"\".concat(window.location.origin, \"/product\");\n      } else {\n        window.location.href = \"\".concat(window.location.origin, \"/badLink\");\n      }\n    });\n  });\n\n  if (loading) {\n    return \"\";\n  } else {\n    return React.createElement(Preloader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    });\n  }\n};\n\nexport default LoginLink;","map":{"version":3,"sources":["/Users/401821/2_web/1_website/MOSP/src/middleware/router/loginLink.js"],"names":["React","useState","useEffect","getLoginData","Preloader","LoginLink","location","loading","setLoading","request","search","toLowerCase","replace","split","paxId","embarkationDate","disembarkationDate","bookingNumber","forEach","element","includes","then","next","window","href","origin"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,eAA7B;AACA,OAAOC,SAAP,MAAsB,mCAAtB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBACJL,QAAQ,CAAC,KAAD,CADJ;AAAA;AAAA,MAC3BM,OAD2B;AAAA,MAClBC,UADkB;;AAGlC,MAAIC,OAAO,GAAGH,QAAQ,CAACI,MAAT,CACXC,WADW,GAEXC,OAFW,CAEH,KAFG,EAEI,EAFJ,EAGXC,KAHW,CAGL,GAHK,CAAd;AAKA,MAAIC,KAAJ;AACA,MAAIC,eAAJ;AACA,MAAIC,kBAAJ;AACA,MAAIC,aAAJ;AAEAR,EAAAA,OAAO,CAACS,OAAR,CAAgB,UAAAC,OAAO,EAAI;AACzB,QAAIA,OAAO,CAACC,QAAR,CAAiB,QAAjB,CAAJ,EAAgC;AAC9BN,MAAAA,KAAK,GAAGK,OAAO,CAACP,OAAR,CAAgB,QAAhB,EAA0B,EAA1B,CAAR;AACD,KAFD,MAEO,IAAIO,OAAO,CAACC,QAAR,CAAiB,qBAAjB,CAAJ,EAA6C;AAClDJ,MAAAA,kBAAkB,GAAGG,OAAO,CAACP,OAAR,CAAgB,qBAAhB,EAAuC,EAAvC,CAArB;AACD,KAFM,MAEA,IAAIO,OAAO,CAACC,QAAR,CAAiB,gBAAjB,CAAJ,EAAwC;AAC7CH,MAAAA,aAAa,GAAGE,OAAO,CAACP,OAAR,CAAgB,gBAAhB,EAAkC,EAAlC,CAAhB;AACD,KAFM,MAEA,IAAIO,OAAO,CAACC,QAAR,CAAiB,kBAAjB,CAAJ,EAA0C;AAC/CL,MAAAA,eAAe,GAAGI,OAAO,CAACP,OAAR,CAAgB,kBAAhB,EAAoC,EAApC,CAAlB;AACD;AACF,GAVD;AAYAV,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,YAAY,CACVW,KADU,EAEVC,eAFU,EAGVC,kBAHU,EAIVC,aAJU,CAAZ,CAKEI,IALF,CAKO,UAAAC,IAAI,EAAI;AACb,UAAIA,IAAJ,EAAU;AACRd,QAAAA,UAAU,CAAC,IAAD,CAAV;AACAe,QAAAA,MAAM,CAACjB,QAAP,CAAgBkB,IAAhB,aAA0BD,MAAM,CAACjB,QAAP,CAAgBmB,MAA1C;AACD,OAHD,MAGO;AACLF,QAAAA,MAAM,CAACjB,QAAP,CAAgBkB,IAAhB,aAA0BD,MAAM,CAACjB,QAAP,CAAgBmB,MAA1C;AACD;AACF,KAZD;AAaD,GAdQ,CAAT;;AAgBA,MAAIlB,OAAJ,EAAa;AACX,WAAO,EAAP;AACD,GAFD,MAEO;AACL,WAAO,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;AACF,CA9CD;;AAgDA,eAAeF,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { getLoginData } from \"../Validation\";\nimport Preloader from \"../../componente/layout/Preloader\";\n\nconst LoginLink = ({ location }) => {\n  const [loading, setLoading] = useState(false);\n\n  let request = location.search\n    .toLowerCase()\n    .replace(/\\?/g, \"\")\n    .split(\"&\");\n\n  let paxId;\n  let embarkationDate;\n  let disembarkationDate;\n  let bookingNumber;\n\n  request.forEach(element => {\n    if (element.includes(\"paxid=\")) {\n      paxId = element.replace(\"paxid=\", \"\");\n    } else if (element.includes(\"disembarkationdate=\")) {\n      disembarkationDate = element.replace(\"disembarkationdate=\", \"\");\n    } else if (element.includes(\"bookingnumber=\")) {\n      bookingNumber = element.replace(\"bookingnumber=\", \"\");\n    } else if (element.includes(\"embarkationdate=\")) {\n      embarkationDate = element.replace(\"embarkationdate=\", \"\");\n    }\n  });\n\n  useEffect(() => {\n    getLoginData(\n      paxId,\n      embarkationDate,\n      disembarkationDate,\n      bookingNumber\n    ).then(next => {\n      if (next) {\n        setLoading(true);\n        window.location.href = `${window.location.origin}/product`;\n      } else {\n        window.location.href = `${window.location.origin}/badLink`;\n      }\n    });\n  });\n\n  if (loading) {\n    return \"\";\n  } else {\n    return <Preloader />;\n  }\n};\n\nexport default LoginLink;\n"]},"metadata":{},"sourceType":"module"}